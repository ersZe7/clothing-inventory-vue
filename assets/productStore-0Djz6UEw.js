import{s as e}from"./index-BhoNZVaI.js";async function c(){const t=await fetch("https://dummyjson.com/products");if(!t.ok)throw new Error("Failed to fetch products");return(await t.json()).products}const a=e("products",{state:()=>({products:[{id:1,name:"Oversize T-Shirt",price:12990,sizes:{S:3,M:5,L:1,XL:0}}],loading:!1,error:null}),actions:{addProduct(t){this.products.push({id:Date.now(),...t})},sell(t,o,s=1){const r=this.products.find(i=>i.id===t);r&&r.sizes[o]>=s&&(r.sizes[o]-=s)},async loadProductsFromApi(){this.loading=!0,this.error=null;try{const o=(await c()).slice(0,5).map(s=>({id:s.id,name:s.title,price:s.price,sizes:{S:10,M:10,L:10,XL:10}}));this.products.push(...o)}catch(t){this.error=t.message||"Failed to load products"}finally{this.loading=!1}}}});export{a as u};
